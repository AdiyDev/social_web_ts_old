(this.webpackJsonpreact_social_ts=this.webpackJsonpreact_social_ts||[]).push([[3],{406:function(e,t,s){e.exports={profileInfoWrapper:"ProfileInfo_profileInfoWrapper__2LokH",imageBlock:"ProfileInfo_imageBlock__3T3LG",descriptionBlock:"ProfileInfo_descriptionBlock__35ic4",mainPhoto:"ProfileInfo_mainPhoto__1fXQo",contact:"ProfileInfo_contact__ucwRs",minPhoto:"ProfileInfo_minPhoto__2oANI"}},409:function(e,t,s){e.exports={profileWrapper:"Profile_profileWrapper__1N6LV"}},411:function(e,t,s){e.exports={posts:"MyPosts_posts__g3CcB",postsBlock:"MyPosts_postsBlock__36tsT",myPostsBlock:"MyPosts_myPostsBlock__38VSX"}},412:function(e,t,s){e.exports={item:"Post_item__3KeXi"}},416:function(e,t,s){"use strict";s.r(t);var o=s(7),c=s(156),i=s(157),n=s(195),r=s(192),a=s(0),l=s.n(a),j=s(409),u=s.n(j),b=s(154),p=s(406),d=s.n(p),h=s(108),f=s(1),O=function(e){var t=Object(a.useState)(!1),s=Object(b.a)(t,2),o=s[0],c=s[1],i=Object(a.useState)(e.status),n=Object(b.a)(i,2),r=n[0],l=n[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(f.jsxs)("ul",{children:[!o&&Object(f.jsx)("li",{children:Object(f.jsx)("span",{onDoubleClick:function(){c(!0)},children:r||"------"})}),o&&Object(f.jsx)("li",{children:Object(f.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1)},onChange:function(t){l(t.currentTarget.value),e.updateStatus(r)},onFocus:function(e){e.target.select()},value:r})})]})},x=s.p+"static/media/userPhotoEmpty.b6e40cdf.jpg",m=s(54),v=s(191),g=s(85),P=s.n(g),k=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,o=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"save"})}),o&&Object(f.jsx)("div",{className:P.a.formSummaryError,children:o}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),":"," ",Object(m.c)("Full name","fullName",[],m.a)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),":"," ",Object(m.c)("","lookingForAJob",[],m.a,{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),":",Object(m.c)("My professional skills","lookingForAJobDescription",[],m.b)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),":",Object(m.c)("About me","aboutMe",[],m.b)]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(s.contacts).map((function(e){return Object(f.jsx)("div",{className:d.a.contact,children:Object(f.jsxs)("b",{children:[e,": ",Object(m.c)(e,"contacts."+e,[],m.a)]})},e)}))]})]})})),_=s(415),y=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(f.jsxs)("div",{children:[s&&Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:o,children:"edit"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),":",Object.keys(t.contacts).map((function(e){return Object(f.jsx)(S,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},S=function(e){var t=e.contactTitle,s=e.contactValue;return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsx)("b",{children:t}),": ",s]})},I=function(e){var t=e.profile,s=e.status,o=e.updateStatus,c=e.isOwner,i=e.savePhoto,n=e.saveProfile,r=Object(a.useState)(!1),l=Object(b.a)(r,2),j=l[0],u=l[1];if(!t)return Object(f.jsx)(h.a,{});return Object(f.jsxs)("ul",{className:d.a.profileInfoWrapper,children:[Object(f.jsx)("li",{className:d.a.imageBlock,children:Object(f.jsx)("img",{src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg",alt:"\u0428\u0430\u043f\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})}),Object(f.jsxs)("li",{className:d.a.descriptionBlock,children:[Object(f.jsx)(_.a,{src:t.photos.large||x,style:{width:"300px",height:"300px"},alt:""}),c&&Object(f.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&i(e.target.files[0])}}),j?Object(f.jsx)(k,{initialValues:t,profile:t,onSubmit:function(e){n(e).then((function(){u(!1)}))}}):Object(f.jsx)(y,{goToEditMode:function(){u(!0)},profile:t,isOwner:c}),Object(f.jsx)(O,{status:s,updateStatus:o})]})]})},w=s(53),A=s(411),N=s.n(A),B=s(412),C=s.n(B),M=function(e){return Object(f.jsxs)("li",{className:C.a.item,children:[Object(f.jsx)("img",{src:"http://www.petplan.com.au/blog/wp-content/uploads/2016/12/pet-insurance-dog-cat-8.jpg",alt:""}),e.message,Object(f.jsx)("span",{children:"like "}),e.likesCount]})},F=s(86),T=Object(F.a)(30),J=Object(v.a)({form:"profile-add-post"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(m.c)("Your post","newPostText",[F.b,T],m.a)}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add post"})})]})})),D=function(e){var t=Object(w.a)(e.posts).reverse().map((function(e){return Object(f.jsx)(M,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(f.jsxs)("div",{className:N.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)(J,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(f.jsx)("div",{className:N.a.posts,children:t})]})},U=l.a.memo(D),L=s(15),W=s(155),E=Object(L.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:W.a.addPostActionCreator})(U),V=function(e){return Object(f.jsxs)("div",{className:u.a.profileWrapper,children:[Object(f.jsx)(I,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile,savePhoto:e.savePhoto}),Object(f.jsx)(E,{})]})},z=s(22),X=s(21),R=function(e){Object(n.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(V,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(X.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:W.d,getStatus:W.c,updateStatus:W.g,savePhoto:W.e,saveProfile:W.f}),z.h)(R)}}]);
//# sourceMappingURL=3.12795ff8.chunk.js.map